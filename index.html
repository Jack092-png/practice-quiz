<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!-- Viewport meta tag for proper scaling on mobile devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Prevent caching -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>Ethics & Philosophy Quiz</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Ethics & Philosophy Quiz</h1>
  <form id="quizForm" onsubmit="return false;" autocomplete="off">
    <!-- Questions will be inserted here by JavaScript -->
  </form>
  <button type="button" onclick="submitQuiz()">Submit</button>
  <button type="button" onclick="resetQuiz()">Reset</button>
  <div id="score"></div>

  <script>
     const questions = [
    {"question": "Because we are a person who lives with the ___________", "answer": "collectivity of others"},
    {"question": "We are moral because God exist", "answer": "Moral Law, Eternal Law"},
    {"question": "We Live by what law?", "answer": "Moral Law, Natural Moral Law, Eternal/Divine Law"},
    {"question": "Socrates Quote", "answer": "Knowledge is not an entity for its own sake, but a means in ethical."},
    {"question": "_____ and ______ both good together", "answer": "Knowledge, Virtue"},
    {"question": "_____ and ______ are important in life", "answer": "Happiness, Pleasure"},
    {"question": "fear of punishment", "answer": "Lawrence Kohlberg"},
    {"question": "every human is a creature of values", "answer": "Ralph Barton Perry"},
    {"question": "we are a member of a certain society that has standards", "answer": "Beauchamp"},
    {"question": "nature of man is good", "answer": "Thomas Nagel"},
    {"question": "one of the leads of man is recognition", "answer": "Abraham Maslow"},
    {"question": "there is God", "answer": "St. Thomas of Aquinas and St. Agustin"},
    {"question": "happiness", "answer": "Aristotle, Plato, and Socrates"},
    {"question": "it depends upon the situation", "answer": "Fletcher"},
    {"question": "to be in harmony with nature", "answer": "Lao-Tzu and Confucius"},
    {"question": "Allah", "answer": "Mohammed"},
    {"question": "manâ€™s karma to be one with the Brahman", "answer": "Hindu Seers"},
    {"question": "_____ is life itself", "answer": "Morality"},
    {"question": "Another fundamental virtue is ____, which involves balance", "answer": "Temperance"},
    {"question": "Fundamental virtue that implies fairness and righteousness", "answer": "Justice"},
    {"question": "Fundamental virtue that signifies deep understanding and knowledge", "answer": "Wisdom"},
    {"question": "Who emphasized the rationality of life as reason?", "answer": "Aristotle"},
    {"question": "According to Aristotle, what is the fundamental of our desire?", "answer": "Steward mill, jeremy bentham"}
    {"question": "happy", "answer": "Steward mill, jeremy bentham"}

];
    const quizForm = document.getElementById('quizForm');

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function renderQuiz() {
      shuffleArray(questions); // Shuffle the questions array

      questions.forEach((q, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'question';
        questionDiv.innerHTML = `<p>${index + 1}. ${q.question}</p>`;

        // Create an input field for each answer part.
        const answers = q.answer.split(',').map(answer => answer.trim());
        answers.forEach((_, ansIndex) => {
          questionDiv.innerHTML += `
            <input type="text" name="question${index}answer${ansIndex}" class="answerInput" autocomplete="off" required>
          `;
        });

        questionDiv.innerHTML += `<p class="correctAnswer" style="display: none;">Correct answer: ${q.answer}</p>`;
        quizForm.appendChild(questionDiv);
      });
    }

    function submitQuiz() {
      let score = 0;
      const correctAnswers = document.querySelectorAll('.correctAnswer');

      questions.forEach((q, index) => {
        const answers = q.answer.split(',').map(answer => answer.trim());
        const userAnswers = answers.map((_, ansIndex) => {
          const input = document.querySelector(`input[name="question${index}answer${ansIndex}"]`);
          return input ? input.value.trim().toLowerCase() : "";
        });

        // Only check answers if every input has a value.
        if (userAnswers.some(answer => answer === "")) {
          correctAnswers[index].style.display = 'none';
        } else {
          const isCorrect = userAnswers.every((userAnswer, i) => {
            // For slash-separated alternatives, split the expected answer further.
            const correctPart = answers[i].toLowerCase();
            const alternatives = correctPart.split('/').map(alt => alt.trim());
            return alternatives.includes(userAnswer);
          });
          if (isCorrect) {
            score++;
            correctAnswers[index].style.display = 'none';
          } else {
            correctAnswers[index].style.display = 'block';
          }
        }
      });

      document.getElementById('score').innerText = `Your score is ${score} out of ${questions.length}`;
    }

    function resetQuiz() {
      const answerInputs = document.querySelectorAll('.answerInput');
      const correctAnswers = document.querySelectorAll('.correctAnswer');
      answerInputs.forEach(input => input.value = '');
      correctAnswers.forEach(answer => answer.style.display = 'none');
      document.getElementById('score').innerText = '';
    }

    // Initialize the quiz
    renderQuiz();
  </script>
</body>
</html>
